name: Telegram Release Notification

on:
  release:
    types: [published]

jobs:
  notify:
    runs-on: ubuntu-latest
    steps:
      - name: Send to Telegram Channel
        uses: appleboy/telegram-action@master
        with:
          to: ${{ secrets.TELEGRAM_CHANNEL_ID }}
          token: ${{ secrets.TELEGRAM_BOT_TOKEN }}
          format: markdown
          message: |
            ğŸ‰ *Telegram Monitor Bot æ–°ç‰ˆæœ¬å‘å¸ƒï¼*
            
            ğŸ“¦ ç‰ˆæœ¬: `${{ github.event.release.tag_name }}`
            
            ğŸ“ æ›´æ–°å†…å®¹:
            ${{ github.event.release.body }}
            
            ğŸ”— [æŸ¥çœ‹è¯¦æƒ…](${{ github.event.release.html_url }})
            
            ğŸ’» å¿«é€Ÿéƒ¨ç½²:
            ```bash
            docker pull luoyanglangge/telegram-monitor:${{ github.event.release.tag_name }}
            ```
            
            ğŸ“š æ–‡æ¡£: https://github.com/luoyanglang/TelegramMonitor
      
      - name: Send to Telegram Group
        uses: appleboy/telegram-action@master
        with:
          to: ${{ secrets.TELEGRAM_GROUP_ID }}
          token: ${{ secrets.TELEGRAM_BOT_TOKEN }}
          format: markdown
          message: |
            ğŸ‰ *Telegram Monitor Bot æ–°ç‰ˆæœ¬å‘å¸ƒï¼*
            
            ğŸ“¦ ç‰ˆæœ¬: `${{ github.event.release.tag_name }}`
            
            ğŸ“ æ›´æ–°å†…å®¹:
            ${{ github.event.release.body }}
            
            ğŸ”— [æŸ¥çœ‹è¯¦æƒ…](${{ github.event.release.html_url }})
            
            ğŸ’» å¿«é€Ÿéƒ¨ç½²:
            ```bash
            docker pull luoyanglangge/telegram-monitor:${{ github.event.release.tag_name }}
            ```
            
            ğŸ“š æ–‡æ¡£: https://github.com/luoyanglang/TelegramMonitor
