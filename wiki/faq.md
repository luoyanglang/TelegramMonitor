# 常见问题

## 部署相关

### Bot 启动失败

**可能原因：**
- 环境变量配置错误
- Bot Token 无效
- API 凭证错误

**解决方法：**
1. 检查所有环境变量是否正确填写
2. 确认 Bot Token 没有多余空格
3. 重新获取 API 凭证试试

### Docker 容器无法连接 Telegram

**可能原因：**
- 服务器网络无法访问 Telegram
- 代理配置错误

**解决方法：**
1. 测试服务器能否访问 `api.telegram.org`
2. 配置代理，参考 [代理配置](config/proxy.md)
3. 如果使用 Docker，代理地址不要用 `127.0.0.1`

## 登录相关

### 验证码收不到

**解决方法：**
1. 检查手机号格式是否正确（需要带国际区号）
2. 等待 1-2 分钟，验证码可能有延迟
3. 检查 Telegram 其他客户端是否收到验证码通知

### 登录后频繁掉线

**可能原因：**
- 网络不稳定
- 同一账号在其他地方登录导致会话失效

**解决方法：**
1. 检查服务器网络稳定性
2. 避免频繁重复登录

### 提示 "会话已过期"

重新登录即可。

## 监控相关

### 关键词设置了但收不到消息

**排查步骤：**
1. 确认监控已启动（状态显示 🟢）
2. 确认账号已登录
3. 确认你已加入要监控的群组
4. 检查关键词匹配类型是否正确
5. 检查是否被黑名单屏蔽

### 收到太多无关消息

**解决方法：**
1. 使用更精确的匹配类型（如全字匹配）
2. 添加排除关键词过滤干扰
3. 使用正则表达式精确匹配

### 消息转发延迟

正常情况下消息是实时转发的。如果有延迟：
1. 检查服务器网络
2. 检查服务器 CPU/内存使用情况
3. 减少监控的群组数量

## 其他问题

### 如何更新到新版本

**Docker 部署：**
```bash
docker pull luoyanglang/telegram-monitor:latest
docker stop telegram-monitor
docker rm telegram-monitor
# 重新运行 docker run 命令
```

**源码部署：**
```bash
git pull
pip install -r requirements.txt
# 重启程序
```

### 数据存储在哪里

- 数据库文件：`data/monitor.db`
- 会话文件：`sessions/` 目录

建议定期备份这些文件。

---

还有问题？欢迎加入交流群：[@langgepython](https://t.me/langgepython)

[← 返回文档首页](index.md)
